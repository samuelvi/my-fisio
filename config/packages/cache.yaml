framework:
    cache:
        # Unique name of your app: used to compute stable namespaces for cache keys.
        #prefix_seed: your_vendor_name/app_name

        # The "app" cache stores to the filesystem by default.
        # The data in this cache should persist between deploys.
        #
        # Options for CACHE_ADAPTER env var:
        #   - cache.adapter.filesystem (default dev - not shared across servers)
        #   - cache.adapter.apcu (fast, single server - requires APCu extension)
        #   - cache.adapter.redis (distributed - requires Redis server)
        #   - cache.adapter.pdo (database - works everywhere, slower)
        app: '%env(default:cache_default:CACHE_ADAPTER)%'

        # Redis provider URL (only used when CACHE_ADAPTER=cache.adapter.redis)
        default_redis_provider: '%env(default::REDIS_URL)%'

parameters:
    cache_default: 'cache.adapter.filesystem'

when@prod:
    parameters:
        # Default to PDO/database in production (works on shared hosting like IONOS)
        # Override with CACHE_ADAPTER=cache.adapter.apcu if APCu available
        # Override with CACHE_ADAPTER=cache.adapter.redis for multi-server
        cache_default: 'cache.adapter.pdo'

    framework:
        cache:
            # Use existing database connection for cache
            default_pdo_provider: 'doctrine.dbal.default_connection'
